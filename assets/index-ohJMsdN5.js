(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();const lr=!1;var Ut=Array.isArray,cn=Array.prototype.indexOf,Aa=Array.from,ga=Object.defineProperty,et=Object.getOwnPropertyDescriptor,cr=Object.getOwnPropertyDescriptors,dn=Object.prototype,un=Array.prototype,Pa=Object.getPrototypeOf,Ua=Object.isExtensible;function fn(e){return e()}function ha(e){for(var t=0;t<e.length;t++)e[t]()}function pn(){var e,t,a=new Promise((r,i)=>{e=r,t=i});return{promise:a,resolve:e,reject:t}}const ae=2,dr=4,Qt=8,st=16,Se=32,Ge=64,ur=128,le=256,$t=512,H=1024,ce=2048,Ae=4096,fe=8192,Be=16384,Ea=32768,Ma=65536,Qa=1<<17,vn=1<<18,Ca=1<<19,fr=1<<20,ba=1<<21,qa=1<<22,Oe=1<<23,tt=Symbol("$state"),mn=Symbol("legacy props"),gn=Symbol(""),Ia=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function hn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function pr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function yn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _n(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function xn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Sn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function An(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Pn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Yt=1,Jt=2,vr=4,En=8,Mn=16,Cn=1,qn=2,In=4,Dn=8,Tn=16,Fn=1,Rn=2,B=Symbol(),Nn="http://www.w3.org/1999/xhtml";let Wn=!1;function mr(e){return e===this.v}function Ln(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function gr(e){return!Ln(e,this.v)}let ot=!1,On=!1;function zn(){ot=!0}let N=null;function Gt(e){N=e}function kt(e,t=!1,a){N={p:N,c:null,e:null,s:e,x:null,l:ot&&!t?{s:null,u:null,$:[]}:null}}function St(e){var t=N,a=t.e;if(a!==null){t.e=null;for(var r of a)Cr(r)}return N=t.p,{}}function At(){return!ot||N!==null&&N.l===null}const $n=new WeakMap;function Gn(e){var t=q;if(t===null)return I.f|=Oe,e;if((t.f&Ea)===0){if((t.f&ur)===0)throw!t.parent&&e instanceof Error&&hr(e),e;t.b.error(e)}else Da(e,t)}function Da(e,t){for(;t!==null;){if((t.f&ur)!==0)try{t.b.error(e);return}catch(a){e=a}t=t.parent}throw e instanceof Error&&hr(e),e}function hr(e){const t=$n.get(e);t&&(ga(e,"message",{value:t.message}),ga(e,"stack",{value:t.stack}))}let Bt=[];function Bn(){var e=Bt;Bt=[],ha(e)}function br(e){Bt.length===0&&queueMicrotask(Bn),Bt.push(e)}function jn(){for(var e=q.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&hn(),e}function Zt(e){var t=ae|ce,a=I!==null&&(I.f&ae)!==0?I:null;return q===null||a!==null&&(a.f&le)!==0?t|=le:q.f|=Ca,{ctx:N,deps:null,effects:null,equals:mr,f:t,fn:e,reactions:null,rv:0,v:B,wv:0,parent:a??q,ac:null}}function Hn(e,t){let a=q;a===null&&bn();var r=a.b,i=void 0,n=yt(B),l=null,c=!I;return ri(()=>{try{var o=e()}catch(v){o=Promise.reject(v)}var u=()=>o;i=l?.then(u,u)??Promise.resolve(o),l=i;var m=U,g=r.pending;c&&(r.update_pending_count(1),g||m.increment());const f=(v,d=void 0)=>{l=null,g||m.activate(),d?d!==Ia&&(n.f|=Oe,_t(n,d)):((n.f&Oe)!==0&&(n.f^=Oe),_t(n,v)),c&&(r.update_pending_count(-1),g||m.decrement()),xr()};if(i.then(f,v=>f(null,v||"unknown")),m)return()=>{queueMicrotask(()=>m.neuter())}}),new Promise(o=>{function u(m){function g(){m===i?o(n):u(i)}m.then(g,g)}u(i)})}function Ta(e){const t=Zt(e);return t.equals=gr,t}function yr(e){var t=e.effects;if(t!==null){e.effects=null;for(var a=0;a<t.length;a+=1)ke(t[a])}}function Vn(e){for(var t=e.parent;t!==null;){if((t.f&ae)===0)return t;t=t.parent}return null}function Fa(e){var t,a=q;De(Vn(e));try{yr(e),t=zr(e)}finally{De(a)}return t}function _r(e){var t=Fa(e);if(e.equals(t)||(e.v=t,e.wv=Lr()),!je)if(rt!==null)rt.set(e,e.v);else{var a=(qe||(e.f&le)!==0)&&e.deps!==null?Ae:H;J(e,a)}}function Kn(e,t,a){const r=At()?Zt:Ta;if(t.length===0){a(e.map(r));return}var i=U,n=q,l=Un(),c=jn();Promise.all(t.map(o=>Hn(o))).then(o=>{i?.activate(),l();try{a([...e.map(r),...o])}catch(u){(n.f&Be)===0&&Da(u,n)}i?.deactivate(),xr()}).catch(o=>{c.error(o)})}function Un(){var e=q,t=I,a=N;return function(){De(e),be(t),Gt(a)}}function xr(){De(null),be(null),Gt(null)}const mt=new Set;let U=null,rt=null,Ya=new Set,jt=[];function wr(){const e=jt.shift();jt.length>0&&queueMicrotask(wr),e()}let bt=[],Ra=null,ya=!1;class nt{current=new Map;#n=new Map;#i=new Set;#e=0;#c=null;#d=!1;#a=[];#s=[];#r=[];#t=[];#o=[];#u=[];#f=[];skipped_effects=new Set;process(t){bt=[];var a=null;if(mt.size>1){a=new Map,rt=new Map;for(const[n,l]of this.current)a.set(n,{v:n.v,wv:n.wv}),n.v=l;for(const n of mt)if(n!==this)for(const[l,c]of n.#n)a.has(l)||(a.set(l,{v:l.v,wv:l.wv}),l.v=c)}for(const n of t)this.#v(n);if(this.#a.length===0&&this.#e===0){this.#p();var r=this.#r,i=this.#t;this.#r=[],this.#t=[],this.#o=[],U=null,Ja(r),Ja(i),U===null?U=this:mt.delete(this),this.#c?.resolve()}else this.#l(this.#r),this.#l(this.#t),this.#l(this.#o);if(a){for(const[n,{v:l,wv:c}]of a)n.wv<=c&&(n.v=l);rt=null}for(const n of this.#a)$e(n);for(const n of this.#s)$e(n);this.#a=[],this.#s=[]}#v(t){t.f^=H;for(var a=t.first;a!==null;){var r=a.f,i=(r&(Se|Ge))!==0,n=i&&(r&H)!==0,l=n||(r&fe)!==0||this.skipped_effects.has(a);if(!l&&a.fn!==null){if(i)a.f^=H;else if((r&dr)!==0)this.#t.push(a);else if((r&H)===0)if((r&qa)!==0){var c=a.b?.pending?this.#s:this.#a;c.push(a)}else Et(a)&&((a.f&st)!==0&&this.#o.push(a),$e(a));var o=a.first;if(o!==null){a=o;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)a=u.next,u=u.parent}}#l(t){for(const a of t)((a.f&ce)!==0?this.#u:this.#f).push(a),J(a,H);t.length=0}capture(t,a){this.#n.has(t)||this.#n.set(t,a),this.current.set(t,t.v)}activate(){U=this}deactivate(){U=null;for(const t of Ya)if(Ya.delete(t),t(),U!==null)break}neuter(){this.#d=!0}flush(){bt.length>0?Qn():this.#p(),U===this&&(this.#e===0&&mt.delete(this),this.deactivate())}#p(){if(!this.#d)for(const t of this.#i)t();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#u)J(t,ce),it(t);for(const t of this.#f)J(t,Ae),it(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#i.add(t)}settled(){return(this.#c??=pn()).promise}static ensure(){if(U===null){const t=U=new nt;mt.add(U),nt.enqueue(()=>{U===t&&t.flush()})}return U}static enqueue(t){jt.length===0&&queueMicrotask(wr),jt.unshift(t)}}function Qn(){var e=at;ya=!0;try{var t=0;for(Xa(!0);bt.length>0;){var a=nt.ensure();if(t++>1e3){var r,i;Yn()}a.process(bt),Ie.clear()}}finally{ya=!1,Xa(e),Ra=null}}function Yn(){try{wn()}catch(e){Da(e,Ra)}}let Le=null;function Ja(e){var t=e.length;if(t!==0){for(var a=0;a<t;){var r=e[a++];if((r.f&(Be|fe))===0&&Et(r)&&(Le=[],$e(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Fr(r):r.fn=null),Le.length>0)){Ie.clear();for(const i of Le)$e(i);Le=[]}}Le=null}}function it(e){for(var t=Ra=e;t.parent!==null;){t=t.parent;var a=t.f;if(ya&&t===q&&(a&st)!==0)return;if((a&(Ge|Se))!==0){if((a&H)===0)return;t.f^=H}}bt.push(t)}const Ie=new Map;function yt(e,t){var a={f:0,v:e,reactions:null,equals:mr,rv:0,wv:0};return a}function Me(e,t){const a=yt(e);return si(a),a}function j(e,t=!1,a=!0){const r=yt(e);return t||(r.equals=gr),ot&&a&&N!==null&&N.l!==null&&(N.l.s??=[]).push(r),r}function S(e,t,a=!1){I!==null&&(!he||(I.f&Qa)!==0)&&At()&&(I.f&(ae|st|qa|Qa))!==0&&!we?.includes(e)&&Pn();let r=a?Xe(t):t;return _t(e,r)}function _t(e,t){if(!e.equals(t)){var a=e.v;je?Ie.set(e,t):Ie.set(e,a),e.v=t;var r=nt.ensure();r.capture(e,a),(e.f&ae)!==0&&((e.f&ce)!==0&&Fa(e),J(e,(e.f&le)===0?H:Ae)),e.wv=Lr(),kr(e,ce),At()&&q!==null&&(q.f&H)!==0&&(q.f&(Se|Ge))===0&&(ie===null?oi([e]):ie.push(e))}return t}function va(e){S(e,e.v+1)}function kr(e,t){var a=e.reactions;if(a!==null)for(var r=At(),i=a.length,n=0;n<i;n++){var l=a[n],c=l.f;if(!(!r&&l===q)){var o=(c&ce)===0;o&&J(l,t),(c&ae)!==0?kr(l,Ae):o&&((c&st)!==0&&Le!==null&&Le.push(l),it(l))}}}function Xe(e){if(typeof e!="object"||e===null||tt in e)return e;const t=Pa(e);if(t!==dn&&t!==un)return e;var a=new Map,r=Ut(e),i=Me(0),n=ze,l=c=>{if(ze===n)return c();var o=I,u=ze;be(null),tr(n);var m=c();return be(o),tr(u),m};return r&&a.set("length",Me(e.length)),new Proxy(e,{defineProperty(c,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Sn();var m=a.get(o);return m===void 0?m=l(()=>{var g=Me(u.value);return a.set(o,g),g}):S(m,u.value,!0),!0},deleteProperty(c,o){var u=a.get(o);if(u===void 0){if(o in c){const m=l(()=>Me(B));a.set(o,m),va(i)}}else S(u,B),va(i);return!0},get(c,o,u){if(o===tt)return e;var m=a.get(o),g=o in c;if(m===void 0&&(!g||et(c,o)?.writable)&&(m=l(()=>{var v=Xe(g?c[o]:B),d=Me(v);return d}),a.set(o,m)),m!==void 0){var f=s(m);return f===B?void 0:f}return Reflect.get(c,o,u)},getOwnPropertyDescriptor(c,o){var u=Reflect.getOwnPropertyDescriptor(c,o);if(u&&"value"in u){var m=a.get(o);m&&(u.value=s(m))}else if(u===void 0){var g=a.get(o),f=g?.v;if(g!==void 0&&f!==B)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(c,o){if(o===tt)return!0;var u=a.get(o),m=u!==void 0&&u.v!==B||Reflect.has(c,o);if(u!==void 0||q!==null&&(!m||et(c,o)?.writable)){u===void 0&&(u=l(()=>{var f=m?Xe(c[o]):B,v=Me(f);return v}),a.set(o,u));var g=s(u);if(g===B)return!1}return m},set(c,o,u,m){var g=a.get(o),f=o in c;if(r&&o==="length")for(var v=u;v<g.v;v+=1){var d=a.get(v+"");d!==void 0?S(d,B):v in c&&(d=l(()=>Me(B)),a.set(v+"",d))}if(g===void 0)(!f||et(c,o)?.writable)&&(g=l(()=>Me(void 0)),S(g,Xe(u)),a.set(o,g));else{f=g.v!==B;var _=l(()=>Xe(u));S(g,_)}var b=Reflect.getOwnPropertyDescriptor(c,o);if(b?.set&&b.set.call(m,u),!f){if(r&&typeof o=="string"){var P=a.get("length"),M=Number(o);Number.isInteger(M)&&M>=P.v&&S(P,M+1)}va(i)}return!0},ownKeys(c){s(i);var o=Reflect.ownKeys(c).filter(g=>{var f=a.get(g);return f===void 0||f.v!==B});for(var[u,m]of a)m.v!==B&&!(u in c)&&o.push(u);return o},setPrototypeOf(){An()}})}var Za,Sr,Ar,Pr;function Jn(){if(Za===void 0){Za=window,Sr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,a=Text.prototype;Ar=et(t,"firstChild").get,Pr=et(t,"nextSibling").get,Ua(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ua(a)&&(a.__t=void 0)}}function Pt(e=""){return document.createTextNode(e)}function Ht(e){return Ar.call(e)}function Xt(e){return Pr.call(e)}function p(e,t){return Ht(e)}function Vt(e,t){{var a=Ht(e);return a instanceof Comment&&a.data===""?Xt(a):a}}function y(e,t=1,a=!1){let r=e;for(;t--;)r=Xt(r);return r}function Zn(e){e.textContent=""}function Er(){return!1}function Na(e){var t=I,a=q;be(null),De(null);try{return e()}finally{be(t),De(a)}}function Mr(e){q===null&&I===null&&xn(),I!==null&&(I.f&le)!==0&&q===null&&_n(),je&&yn()}function Xn(e,t){var a=t.last;a===null?t.last=t.first=e:(a.next=e,e.prev=a,t.last=e)}function Pe(e,t,a,r=!0){var i=q;i!==null&&(i.f&fe)!==0&&(e|=fe);var n={ctx:N,deps:null,nodes_start:null,nodes_end:null,f:e|ce,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(a)try{$e(n),n.f|=Ea}catch(o){throw ke(n),o}else t!==null&&it(n);var l=a&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&Ca)===0;if(!l&&r&&(i!==null&&Xn(n,i),I!==null&&(I.f&ae)!==0&&(e&Ge)===0)){var c=I;(c.effects??=[]).push(n)}return n}function ei(e){const t=Pe(Qt,null,!1);return J(t,H),t.teardown=e,t}function _a(e){Mr();var t=q.f,a=!I&&(t&Se)!==0&&(t&Ea)===0;if(a){var r=N;(r.e??=[]).push(e)}else return Cr(e)}function Cr(e){return Pe(dr|fr,e,!1)}function ti(e){return Mr(),Pe(Qt|fr,e,!0)}function ai(e){nt.ensure();const t=Pe(Ge,e,!0);return(a={})=>new Promise(r=>{a.outro?La(t,()=>{ke(t),r(void 0)}):(ke(t),r(void 0))})}function ht(e,t){var a=N,r={effect:null,ran:!1,deps:e};a.l.$.push(r),r.effect=qr(()=>{e(),!r.ran&&(r.ran=!0,h(t))})}function Wa(){var e=N;qr(()=>{for(var t of e.l.$){t.deps();var a=t.effect;(a.f&H)!==0&&J(a,Ae),Et(a)&&$e(a),t.ran=!1}})}function ri(e){return Pe(qa|Ca,e,!0)}function qr(e,t=0){return Pe(Qt|t,e,!0)}function z(e,t=[],a=[]){Kn(t,a,r=>{Pe(Qt,()=>e(...r.map(s)),!0)})}function Ir(e,t=0){var a=Pe(st|t,e,!0);return a}function xt(e,t=!0){return Pe(Se,e,!0,t)}function Dr(e){var t=e.teardown;if(t!==null){const a=je,r=I;er(!0),be(null);try{t.call(null)}finally{er(a),be(r)}}}function Tr(e,t=!1){var a=e.first;for(e.first=e.last=null;a!==null;){const i=a.ac;i!==null&&Na(()=>{i.abort(Ia)});var r=a.next;(a.f&Ge)!==0?a.parent=null:ke(a,t),a=r}}function ni(e){for(var t=e.first;t!==null;){var a=t.next;(t.f&Se)===0&&ke(t),t=a}}function ke(e,t=!0){var a=!1;(t||(e.f&vn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ii(e.nodes_start,e.nodes_end),a=!0),Tr(e,t&&!a),Kt(e,0),J(e,Be);var r=e.transitions;if(r!==null)for(const n of r)n.stop();Dr(e);var i=e.parent;i!==null&&i.first!==null&&Fr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ii(e,t){for(;e!==null;){var a=e===t?null:Xt(e);e.remove(),e=a}}function Fr(e){var t=e.parent,a=e.prev,r=e.next;a!==null&&(a.next=r),r!==null&&(r.prev=a),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=a))}function La(e,t){var a=[];Oa(e,a,!0),Rr(a,()=>{ke(e),t&&t()})}function Rr(e,t){var a=e.length;if(a>0){var r=()=>--a||t();for(var i of e)i.out(r)}else t()}function Oa(e,t,a){if((e.f&fe)===0){if(e.f^=fe,e.transitions!==null)for(const l of e.transitions)(l.is_global||a)&&t.push(l);for(var r=e.first;r!==null;){var i=r.next,n=(r.f&Ma)!==0||(r.f&Se)!==0;Oa(r,t,n?a:!1),r=i}}}function za(e){Nr(e,!0)}function Nr(e,t){if((e.f&fe)!==0){e.f^=fe,(e.f&H)===0&&(J(e,ce),it(e));for(var a=e.first;a!==null;){var r=a.next,i=(a.f&Ma)!==0||(a.f&Se)!==0;Nr(a,i?t:!1),a=r}if(e.transitions!==null)for(const n of e.transitions)(n.is_global||t)&&n.in()}}let at=!1;function Xa(e){at=e}let je=!1;function er(e){je=e}let I=null,he=!1;function be(e){I=e}let q=null;function De(e){q=e}let we=null;function si(e){I!==null&&(we===null?we=[e]:we.push(e))}let Y=null,te=0,ie=null;function oi(e){ie=e}let Wr=1,wt=0,ze=wt;function tr(e){ze=e}let qe=!1;function Lr(){return++Wr}function Et(e){var t=e.f;if((t&ce)!==0)return!0;if((t&Ae)!==0){var a=e.deps,r=(t&le)!==0;if(a!==null){var i,n,l=(t&$t)!==0,c=r&&q!==null&&!qe,o=a.length;if((l||c)&&(q===null||(q.f&Be)===0)){var u=e,m=u.parent;for(i=0;i<o;i++)n=a[i],(l||!n?.reactions?.includes(u))&&(n.reactions??=[]).push(u);l&&(u.f^=$t),c&&m!==null&&(m.f&le)===0&&(u.f^=le)}for(i=0;i<o;i++)if(n=a[i],Et(n)&&_r(n),n.wv>e.wv)return!0}(!r||q!==null&&!qe)&&J(e,H)}return!1}function Or(e,t,a=!0){var r=e.reactions;if(r!==null&&!we?.includes(e))for(var i=0;i<r.length;i++){var n=r[i];(n.f&ae)!==0?Or(n,t,!1):t===n&&(a?J(n,ce):(n.f&H)!==0&&J(n,Ae),it(n))}}function zr(e){var t=Y,a=te,r=ie,i=I,n=qe,l=we,c=N,o=he,u=ze,m=e.f;Y=null,te=0,ie=null,qe=(m&le)!==0&&(he||!at||I===null),I=(m&(Se|Ge))===0?e:null,we=null,Gt(e.ctx),he=!1,ze=++wt,e.ac!==null&&(Na(()=>{e.ac.abort(Ia)}),e.ac=null);try{e.f|=ba;var g=e.fn,f=g(),v=e.deps;if(Y!==null){var d;if(Kt(e,te),v!==null&&te>0)for(v.length=te+Y.length,d=0;d<Y.length;d++)v[te+d]=Y[d];else e.deps=v=Y;if(!qe||(m&ae)!==0&&e.reactions!==null)for(d=te;d<v.length;d++)(v[d].reactions??=[]).push(e)}else v!==null&&te<v.length&&(Kt(e,te),v.length=te);if(At()&&ie!==null&&!he&&v!==null&&(e.f&(ae|Ae|ce))===0)for(d=0;d<ie.length;d++)Or(ie[d],e);return i!==null&&i!==e&&(wt++,ie!==null&&(r===null?r=ie:r.push(...ie))),(e.f&Oe)!==0&&(e.f^=Oe),f}catch(_){return Gn(_)}finally{e.f^=ba,Y=t,te=a,ie=r,I=i,qe=n,we=l,Gt(c),he=o,ze=u}}function li(e,t){let a=t.reactions;if(a!==null){var r=cn.call(a,e);if(r!==-1){var i=a.length-1;i===0?a=t.reactions=null:(a[r]=a[i],a.pop())}}a===null&&(t.f&ae)!==0&&(Y===null||!Y.includes(t))&&(J(t,Ae),(t.f&(le|$t))===0&&(t.f^=$t),yr(t),Kt(t,0))}function Kt(e,t){var a=e.deps;if(a!==null)for(var r=t;r<a.length;r++)li(e,a[r])}function $e(e){var t=e.f;if((t&Be)===0){J(e,H);var a=q,r=at;q=e,at=!0;try{(t&st)!==0?ni(e):Tr(e),Dr(e);var i=zr(e);e.teardown=typeof i=="function"?i:null,e.wv=Wr;var n;lr&&On&&(e.f&ce)!==0&&e.deps}finally{at=r,q=a}}}function s(e){var t=e.f,a=(t&ae)!==0;if(I!==null&&!he){var r=q!==null&&(q.f&Be)!==0;if(!r&&!we?.includes(e)){var i=I.deps;if((I.f&ba)!==0)e.rv<wt&&(e.rv=wt,Y===null&&i!==null&&i[te]===e?te++:Y===null?Y=[e]:(!qe||!Y.includes(e))&&Y.push(e));else{(I.deps??=[]).push(e);var n=e.reactions;n===null?e.reactions=[I]:n.includes(I)||n.push(I)}}}else if(a&&e.deps===null&&e.effects===null){var l=e,c=l.parent;c!==null&&(c.f&le)===0&&(l.f^=le)}if(je){if(Ie.has(e))return Ie.get(e);if(a){l=e;var o=l.v;return((l.f&H)===0&&l.reactions!==null||$r(l))&&(o=Fa(l)),Ie.set(l,o),o}}else if(a){if(l=e,rt?.has(l))return rt.get(l);Et(l)&&_r(l)}if((e.f&Oe)!==0)throw e.v;return e.v}function $r(e){if(e.v===B)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ie.has(t)||(t.f&ae)!==0&&$r(t))return!0;return!1}function h(e){var t=he;try{return he=!0,e()}finally{he=t}}const ci=-7169;function J(e,t){e.f=e.f&ci|t}function $(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(tt in e)xa(e);else if(!Array.isArray(e))for(let t in e){const a=e[t];typeof a=="object"&&a&&tt in a&&xa(a)}}}function xa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{xa(e[r],t)}catch{}const a=Pa(e);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const r=cr(a);for(let i in r){const n=r[i].get;if(n)try{n.call(e)}catch{}}}}}const di=["touchstart","touchmove"];function ui(e){return di.includes(e)}const fi=new Set,ar=new Set;function pi(e,t,a,r={}){function i(n){if(r.capture||gt.call(t,n),!n.cancelBubble)return Na(()=>a?.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?br(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ce(e,t,a,r,i){var n={capture:r,passive:i},l=pi(e,t,a,n);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ei(()=>{t.removeEventListener(e,l,n)})}let rr=null;function gt(e){var t=this,a=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],n=i[0]||e.target;rr=e;var l=0,c=rr===e&&e.__root;if(c){var o=i.indexOf(c);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(l=o)}if(n=i[l]||e.target,n!==t){ga(e,"currentTarget",{configurable:!0,get(){return n||a}});var m=I,g=q;be(null),De(null);try{for(var f,v=[];n!==null;){var d=n.assignedSlot||n.parentNode||n.host||null;try{var _=n["__"+r];if(_!=null&&(!n.disabled||e.target===n))if(Ut(_)){var[b,...P]=_;b.apply(n,[e,...P])}else _.call(n,e)}catch(M){f?v.push(M):f=M}if(e.cancelBubble||d===t||d===null)break;n=d}if(f){for(let M of v)queueMicrotask(()=>{throw M});throw f}}finally{e.__root=t,delete e.currentTarget,be(m),De(g)}}}function vi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function wa(e,t){var a=q;a.nodes_start===null&&(a.nodes_start=e,a.nodes_end=t)}function D(e,t){var a=(t&Fn)!==0,r=(t&Rn)!==0,i,n=!e.startsWith("<!>");return()=>{i===void 0&&(i=vi(n?e:"<!>"+e),a||(i=Ht(i)));var l=r||Sr?document.importNode(i,!0):i.cloneNode(!0);if(a){var c=Ht(l),o=l.lastChild;wa(c,o)}else wa(l,l);return l}}function ka(){var e=document.createDocumentFragment(),t=document.createComment(""),a=Pt();return e.append(t,a),wa(t,a),e}function C(e,t){e!==null&&e.before(t)}function A(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function mi(e,t){return gi(e,t)}const Je=new Map;function gi(e,{target:t,anchor:a,props:r={},events:i,context:n,intro:l=!0}){Jn();var c=new Set,o=g=>{for(var f=0;f<g.length;f++){var v=g[f];if(!c.has(v)){c.add(v);var d=ui(v);t.addEventListener(v,gt,{passive:d});var _=Je.get(v);_===void 0?(document.addEventListener(v,gt,{passive:d}),Je.set(v,1)):Je.set(v,_+1)}}};o(Aa(fi)),ar.add(o);var u=void 0,m=ai(()=>{var g=a??t.appendChild(Pt());return xt(()=>{if(n){kt({});var f=N;f.c=n}i&&(r.$$events=i),u=e(g,r)||{},n&&St()}),()=>{for(var f of c){t.removeEventListener(f,gt);var v=Je.get(f);--v===0?(document.removeEventListener(f,gt),Je.delete(f)):Je.set(f,v)}ar.delete(o),g!==a&&g.parentNode?.removeChild(g)}});return hi.set(u,m),u}let hi=new WeakMap;function Z(e,t,a=!1){var r=e,i=null,n=null,l=B,c=a?Ma:0,o=!1;const u=(v,d=!0)=>{o=!0,f(d,v)};var m=null;function g(){m!==null&&(m.lastChild.remove(),r.before(m),m=null);var v=l?i:n,d=l?n:i;v&&za(v),d&&La(d,()=>{l?n=null:i=null})}const f=(v,d)=>{if(l!==(l=v)){var _=Er(),b=r;if(_&&(m=document.createDocumentFragment(),m.append(b=Pt())),l?i??=d&&xt(()=>d(b)):n??=d&&xt(()=>d(b)),_){var P=U,M=l?i:n,w=l?n:i;M&&P.skipped_effects.delete(M),w&&P.skipped_effects.add(w),P.add_callback(g)}else g()}};Ir(()=>{o=!1,t(u),o||f(null,null)},c)}function se(e,t){return t}function bi(e,t,a){for(var r=e.items,i=[],n=t.length,l=0;l<n;l++)Oa(t[l].e,i,!0);var c=n>0&&i.length===0&&a!==null;if(c){var o=a.parentNode;Zn(o),o.append(a),r.clear(),ge(e,t[0].prev,t[n-1].next)}Rr(i,()=>{for(var u=0;u<n;u++){var m=t[u];c||(r.delete(m.k),ge(e,m.prev,m.next)),ke(m.e,!c)}})}function oe(e,t,a,r,i,n=null){var l=e,c={flags:t,items:new Map,first:null},o=(t&vr)!==0;if(o){var u=e;l=u.appendChild(Pt())}var m=null,g=!1,f=new Map,v=Ta(()=>{var P=a();return Ut(P)?P:P==null?[]:Aa(P)}),d,_;function b(){yi(_,d,c,f,l,i,t,r,a),n!==null&&(d.length===0?m?za(m):m=xt(()=>n(l)):m!==null&&La(m,()=>{m=null}))}Ir(()=>{_??=q,d=s(v);var P=d.length;if(!(g&&P===0)){g=P===0;var M,w,W,R;if(Er()){var E=new Set,T=U;for(w=0;w<P;w+=1){W=d[w],R=r(W,w);var V=c.items.get(R)??f.get(R);V?(t&(Yt|Jt))!==0&&Gr(V,W,w,t):(M=Br(null,c,null,null,W,R,w,i,t,a,!0),f.set(R,M)),E.add(R)}for(const[F,ye]of c.items)E.has(F)||T.skipped_effects.add(ye.e);T.add_callback(b)}else b();s(v)}})}function yi(e,t,a,r,i,n,l,c,o){var u=(l&En)!==0,m=(l&(Yt|Jt))!==0,g=t.length,f=a.items,v=a.first,d=v,_,b=null,P,M=[],w=[],W,R,E,T;if(u)for(T=0;T<g;T+=1)W=t[T],R=c(W,T),E=f.get(R),E!==void 0&&(E.a?.measure(),(P??=new Set).add(E));for(T=0;T<g;T+=1){if(W=t[T],R=c(W,T),E=f.get(R),E===void 0){var V=r.get(R);if(V!==void 0){r.delete(R),f.set(R,V);var F=b?b.next:d;ge(a,b,V),ge(a,V,F),ma(V,F,i),b=V}else{var ye=d?d.e.nodes_start:i;b=Br(ye,a,b,b===null?a.first:b.next,W,R,T,n,l,o)}f.set(R,b),M=[],w=[],d=b.next;continue}if(m&&Gr(E,W,T,l),(E.e.f&fe)!==0&&(za(E.e),u&&(E.a?.unfix(),(P??=new Set).delete(E))),E!==d){if(_!==void 0&&_.has(E)){if(M.length<w.length){var pe=w[0],X;b=pe.prev;var Te=M[0],Fe=M[M.length-1];for(X=0;X<M.length;X+=1)ma(M[X],pe,i);for(X=0;X<w.length;X+=1)_.delete(w[X]);ge(a,Te.prev,Fe.next),ge(a,b,Te),ge(a,Fe,pe),d=pe,b=Fe,T-=1,M=[],w=[]}else _.delete(E),ma(E,d,i),ge(a,E.prev,E.next),ge(a,E,b===null?a.first:b.next),ge(a,b,E),b=E;continue}for(M=[],w=[];d!==null&&d.k!==R;)(d.e.f&fe)===0&&(_??=new Set).add(d),w.push(d),d=d.next;if(d===null)continue;E=d}M.push(E),b=E,d=E.next}if(d!==null||_!==void 0){for(var ve=_===void 0?[]:Aa(_);d!==null;)(d.e.f&fe)===0&&ve.push(d),d=d.next;var Re=ve.length;if(Re>0){var He=(l&vr)!==0&&g===0?i:null;if(u){for(T=0;T<Re;T+=1)ve[T].a?.measure();for(T=0;T<Re;T+=1)ve[T].a?.fix()}bi(a,ve,He)}}u&&br(()=>{if(P!==void 0)for(E of P)E.a?.apply()}),e.first=a.first&&a.first.e,e.last=b&&b.e;for(var lt of r.values())ke(lt.e);r.clear()}function Gr(e,t,a,r){(r&Yt)!==0&&_t(e.v,t),(r&Jt)!==0?_t(e.i,a):e.i=a}function Br(e,t,a,r,i,n,l,c,o,u,m){var g=(o&Yt)!==0,f=(o&Mn)===0,v=g?f?j(i,!1,!1):yt(i):i,d=(o&Jt)===0?l:yt(l),_={i:d,v,k:n,a:null,e:null,prev:a,next:r};try{if(e===null){var b=document.createDocumentFragment();b.append(e=Pt())}return _.e=xt(()=>c(e,v,d,u),Wn),_.e.prev=a&&a.e,_.e.next=r&&r.e,a===null?m||(t.first=_):(a.next=_,a.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function ma(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,i=t?t.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==r;){var l=Xt(n);i.before(n),n=l}}function ge(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function _i(e,t,a){var r=e==null?"":""+e;return r===""?null:r}function ue(e,t,a,r,i,n){var l=e.__className;if(l!==a||l===void 0){var c=_i(a);c==null?e.removeAttribute("class"):e.className=c,e.__className=a}return n}const xi=Symbol("is custom element"),wi=Symbol("is html");function jr(e,t,a,r){var i=ki(e);i[t]!==(i[t]=a)&&(t==="loading"&&(e[gn]=a),a==null?e.removeAttribute(t):typeof a!="string"&&Si(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function ki(e){return e.__attributes??={[xi]:e.nodeName.includes("-"),[wi]:e.namespaceURI===Nn}}var nr=new Map;function Si(e){var t=nr.get(e.nodeName);if(t)return t;nr.set(e.nodeName,t=[]);for(var a,r=e,i=Element.prototype;i!==r;){a=cr(r);for(var n in a)a[n].set&&t.push(n);r=Pa(r)}return t}function ea(e=!1){const t=N,a=t.l.u;if(!a)return;let r=()=>$(t.s);if(e){let i=0,n={};const l=Zt(()=>{let c=!1;const o=t.s;for(const u in o)o[u]!==n[u]&&(n[u]=o[u],c=!0);return c&&i++,i});r=()=>s(l)}a.b.length&&ti(()=>{ir(t,r),ha(a.b)}),_a(()=>{const i=h(()=>a.m.map(fn));return()=>{for(const n of i)typeof n=="function"&&n()}}),a.a.length&&_a(()=>{ir(t,r),ha(a.a)})}function ir(e,t){if(e.l.s)for(const a of e.l.s)s(a);t()}let Ot=!1;function Ai(e){var t=Ot;try{return Ot=!1,[e(),Ot]}finally{Ot=t}}function Sa(e,t,a,r){var i=!ot||(a&qn)!==0,n=(a&Dn)!==0,l=(a&Tn)!==0,c=r,o=!0,u=()=>(o&&(o=!1,c=l?h(r):r),c),m;if(n){var g=tt in e||mn in e;m=et(e,t)?.set??(g&&t in e?w=>e[t]=w:void 0)}var f,v=!1;n?[f,v]=Ai(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),m&&(i&&kn(),m(f)));var d;if(i?d=()=>{var w=e[t];return w===void 0?u():(o=!0,w)}:d=()=>{var w=e[t];return w!==void 0&&(c=void 0),w===void 0?c:w},i&&(a&In)===0)return d;if(m){var _=e.$$legacy;return(function(w,W){return arguments.length>0?((!i||!W||_||v)&&m(W?d():w),w):d()})}var b=!1,P=((a&Cn)!==0?Zt:Ta)(()=>(b=!1,d()));n&&s(P);var M=q;return(function(w,W){if(arguments.length>0){const R=W?s(P):i&&n?Xe(w):w;return S(P,R),b=!0,c!==void 0&&(c=R),w}return je&&b||(M.f&Be)!==0?P.v:s(P)})}function Pi(e){N===null&&pr(),ot&&N.l!==null?Mi(N).m.push(e):_a(()=>{const t=h(e);if(typeof t=="function")return t})}function Ei(e,t,{bubbles:a=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:a,cancelable:r})}function $a(){const e=N;return e===null&&pr(),(t,a,r)=>{const i=e.s.$$events?.[t];if(i){const n=Ut(i)?i.slice():[i],l=Ei(t,a,r);for(const c of n)c.call(e.x,l);return!l.defaultPrevented}return!0}}function Mi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ci="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ci);zn();var qi=D('<div class="flex items-center space-x-2"><span class="text-gray-400 text-sm">Streak:</span> <span class="font-mono font-bold text-gray-200"> </span></div>'),Ii=D('<header class="bg-gray-800 border-b border-gray-700"><div class="container mx-auto px-4 py-4"><div class="flex items-center justify-between"><div class="flex items-center space-x-4"><div class="w-8 h-8 bg-gray-700 rounded-md flex items-center justify-center"><span class="text-gray-100 font-bold text-sm">AP</span></div> <span class="text-lg font-semibold text-gray-100">ArchPath</span></div> <div class="flex items-center space-x-6"><div class="flex items-center space-x-2"><span class="text-gray-400 text-sm">Score:</span> <span class="font-mono font-bold text-gray-200"> </span></div> <!> <a href="https://github.com/TheConnMan/archpath" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-gray-200 transition-colors" aria-label="View on GitHub"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z" clip-rule="evenodd"></path></svg></a></div></div></div></header>');function Di(e,t){kt(t,!1);let a=j(0),r=j(0);Pi(()=>{const v=localStorage.getItem("archpath-progress");if(v){const d=JSON.parse(v);S(a,d.totalScore||0),S(r,d.streak||0)}}),ea();var i=Ii(),n=p(i),l=p(n),c=y(p(l),2),o=p(c),u=y(p(o),2),m=p(u),g=y(o,2);{var f=v=>{var d=qi(),_=y(p(d),2),b=p(_);z(()=>A(b,s(r))),C(v,d)};Z(g,v=>{s(r)>0&&v(f)})}z(v=>A(m,v),[()=>s(a).toLocaleString()]),C(e,i),St()}var Ti=D('<div class="text-xs text-gray-400 bg-gray-700 bg-opacity-50 px-2 py-1 rounded"> </div>'),Fi=D('<button class="company-card text-left w-full group"><div class="flex items-center justify-between mb-4"><div class="flex items-center space-x-3"><div class="w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center"><span class="text-gray-200 font-semibold text-lg"> </span></div> <div><h3 class="font-semibold text-lg text-gray-100 group-hover:text-white transition-colors"> </h3> <p class="text-sm text-gray-400"> </p></div></div> <div class="flex space-x-2"><span> </span> <span> </span></div></div> <div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-400">Scale:</span> <span class="text-gray-200"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-400">Challenge:</span> <span class="text-gray-200 ml-2"> </span></div></div> <div class="mb-4"><p class="text-sm font-medium text-gray-300 mb-2">Architecture Evolution:</p> <div class="grid grid-cols-2 gap-2"></div></div> <div class="text-center pt-3 border-t border-gray-700"><span class="text-gray-300 group-hover:text-gray-100 transition-colors font-medium">Start Challenge â†’</span></div></button>'),Ri=D('<div class="mb-8"><div class="flex items-center space-x-3 mb-6"><h2 class="text-2xl font-bold text-gray-100"> </h2> <span> </span></div> <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"></div></div>'),Ni=D('<!> <div class="card max-w-4xl mx-auto"><h3 class="font-semibold text-lg mb-6 text-gray-100">How to Play</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="text-center"><div class="w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-3"><span class="text-gray-100 font-bold">1</span></div> <h4 class="font-medium text-gray-200 mb-2">Choose Components</h4> <p class="text-sm text-gray-400">Select the right services for each scaling phase</p></div> <div class="text-center"><div class="w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-3"><span class="text-gray-100 font-bold">2</span></div> <h4 class="font-medium text-gray-200 mb-2">Avoid Over-Engineering</h4> <p class="text-sm text-gray-400">Start simple, scale when needed</p></div> <div class="text-center"><div class="w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-3"><span class="text-gray-100 font-bold">3</span></div> <h4 class="font-medium text-gray-200 mb-2">Learn & Improve</h4> <p class="text-sm text-gray-400">Get feedback and learn from real architectures</p></div></div></div>',1);function Wi(e,t){kt(t,!1);const a=j(),r=$a(),i=[{id:"netflix",name:"Netflix",description:"Video streaming platform",difficulty:"Easy",phases:["DVD Monolith","Cloud Migration","Microservices","Global AI"],users:"230M+ subscribers",challenge:"Scale video streaming globally",category:"Tech"},{id:"slack",name:"Slack",description:"Real-time workplace communication",difficulty:"Easy",phases:["MVP Chat","WebSocket Scaling","Enterprise","Shared Channels"],users:"18M+ daily users",challenge:"Handle millions of concurrent connections",category:"Tech"},{id:"uber",name:"Uber",description:"Ride-sharing platform",difficulty:"Hard",phases:["Monolith MVP","Geographic Scale","Microservices","Global Platform"],users:"10,000+ cities",challenge:"Real-time location matching at scale",category:"Tech"},{id:"spotify",name:"Spotify",description:"Music streaming & recommendations",difficulty:"Medium",phases:["Music MVP","Mobile & ML","Microservices","AI Platform"],users:"400M+ users",challenge:"Personalize music for millions of users",category:"Tech"},{id:"instagram",name:"Instagram",description:"Photo & video social platform",difficulty:"Medium",phases:["Django MVP","Scale Monolith","Facebook Integration","AI Platform"],users:"2B+ daily users",challenge:"Scale Django to billions of users",category:"Tech"},{id:"stripe",name:"Stripe",description:"Payment processing platform",difficulty:"Medium",phases:["Simple API","Global Payments","Platform Scale","Adaptive Finance"],users:"$1T+ processed",challenge:"Build global payment infrastructure",category:"Finance"},{id:"monzo",name:"Monzo",description:"Digital banking platform",difficulty:"Hard",phases:["Prepaid MVP","Banking License","Full Service","Financial Super-App"],users:"7M+ customers",challenge:"Scale microservices banking architecture",category:"Finance"},{id:"robinhood",name:"Robinhood",description:"Commission-free trading platform",difficulty:"Hard",phases:["Trading MVP","Market Data","Multi-Asset","Global Marketplace"],users:"24M+ accounts",challenge:"Handle volatile trading spikes",category:"Finance"},{id:"shopify",name:"Shopify",description:"Multi-tenant commerce platform",difficulty:"Hard",phases:["Store Builder","Platform Scale","Black Friday","Commerce OS"],users:"5.6M+ merchants",challenge:"Scale multi-tenant commerce globally",category:"Ecommerce"},{id:"doordash",name:"DoorDash",description:"Real-time delivery logistics",difficulty:"Hard",phases:["Local Delivery","Multi-City","ML Optimization","Autonomous Logistics"],users:"32M+ users",challenge:"Coordinate three-sided marketplace at scale",category:"Ecommerce"},{id:"etsy",name:"Etsy",description:"Creative marketplace platform",difficulty:"Medium",phases:["Handmade MVP","Search Scale","Personalization","Creative Economy"],users:"96M+ buyers",challenge:"Enable discovery in long-tail marketplace",category:"Ecommerce"}];function n(g){r("companySelect",{company:g})}function l(g){switch(g){case"Easy":return"text-green-400 bg-green-400 bg-opacity-20";case"Medium":return"text-yellow-400 bg-yellow-400 bg-opacity-20";case"Hard":return"text-red-400 bg-red-400 bg-opacity-20";default:return"text-gray-400 bg-gray-400 bg-opacity-20"}}function c(g){switch(g){case"Tech":return"text-blue-400 bg-blue-400 bg-opacity-20";case"Finance":return"text-emerald-400 bg-emerald-400 bg-opacity-20";case"Ecommerce":return"text-purple-400 bg-purple-400 bg-opacity-20";default:return"text-gray-400 bg-gray-400 bg-opacity-20"}}const o=["Tech","Finance","Ecommerce"];ht(()=>{},()=>{S(a,i.reduce((g,f)=>{const v=f.category||"Tech";return g[v]||(g[v]=[]),g[v].push(f),g},{}))}),Wa(),ea();var u=Ni(),m=Vt(u);oe(m,1,()=>o,se,(g,f)=>{var v=ka(),d=Vt(v);{var _=b=>{var P=Ri(),M=p(P),w=p(M),W=p(w),R=y(w,2),E=p(R),T=y(M,2);oe(T,5,()=>(s(a),s(f),h(()=>s(a)[s(f)])),se,(V,F)=>{var ye=Fi(),pe=p(ye),X=p(pe),Te=p(X),Fe=p(Te),ve=p(Fe),Re=y(Te,2),He=p(Re),lt=p(He),ta=y(He,2),aa=p(ta),ra=y(X,2),Ve=p(ra),Mt=p(Ve),ct=y(Ve,2),na=p(ct),Ct=y(pe,2),qt=p(Ct),It=y(p(qt),2),ia=p(It),sa=y(qt,2),oa=y(p(sa),2),la=p(oa),Dt=y(Ct,2),ca=y(p(Dt),2);oe(ca,5,()=>(s(F),h(()=>s(F).phases)),se,(dt,Ke,ut)=>{var Tt=Ti(),Ft=p(Tt);z(()=>A(Ft,`${ut+1}. ${s(Ke)??""}`)),C(dt,Tt)}),z((dt,Ke,ut)=>{A(ve,dt),A(lt,(s(F),h(()=>s(F).name))),A(aa,(s(F),h(()=>s(F).description))),ue(Ve,1,`px-2 py-1 rounded-md text-xs font-medium ${Ke??""}`),A(Mt,(s(F),h(()=>s(F).category))),ue(ct,1,`px-2 py-1 rounded-md text-xs font-medium ${ut??""}`),A(na,(s(F),h(()=>s(F).difficulty))),A(ia,(s(F),h(()=>s(F).users))),A(la,(s(F),h(()=>s(F).challenge)))},[()=>(s(F),h(()=>s(F).name.charAt(0))),()=>(s(F),h(()=>c(s(F).category))),()=>(s(F),h(()=>l(s(F).difficulty)))]),Ce("click",ye,()=>n(s(F))),C(V,ye)}),z(V=>{A(W,`${s(f)??""} Companies`),ue(R,1,`px-3 py-1 rounded-full text-sm font-medium ${V??""}`),A(E,`${s(a),s(f),h(()=>s(a)[s(f)].length)??""} companies`)},[()=>(s(f),h(()=>c(s(f))))]),C(b,P)};Z(d,b=>{s(a),s(f),h(()=>s(a)[s(f)])&&b(_)})}C(g,v)}),C(e,u),St()}const zt=[{id:"web-server",name:"Web Server",category:"compute",tooltip:"Serves static content (HTML, CSS, JS) to users. Examples: nginx, Apache. Essential for any web application."},{id:"app-server",name:"App Server",category:"compute",tooltip:"Runs business logic and dynamic content. Examples: Node.js, Java Spring, Python Django. Processes user requests."},{id:"lambda",name:"Serverless",category:"compute",tooltip:"Event-driven functions without server management. Examples: AWS Lambda, Vercel Functions. Good for sporadic workloads."},{id:"database",name:"Database",category:"database",tooltip:"Persistent data storage with ACID properties. Examples: PostgreSQL, MySQL. Critical for user data and transactions."},{id:"cache",name:"Cache",category:"database",tooltip:"Fast temporary storage for frequently accessed data. Examples: Redis, Memcached. Reduces database load."},{id:"search-engine",name:"Search Engine",category:"database",tooltip:"Full-text search across large datasets. Examples: Elasticsearch, Solr. Essential for content discovery."},{id:"file-storage",name:"File Storage",category:"storage",tooltip:"Store and serve files like images, videos, documents. Examples: AWS S3, Google Cloud Storage."},{id:"cdn",name:"CDN",category:"storage",tooltip:"Content Delivery Network caches content globally. Examples: CloudFlare, AWS CloudFront. Reduces latency."},{id:"object-storage",name:"Object Storage",category:"storage",tooltip:"Scalable storage for unstructured data. Examples: AWS S3, MinIO. Good for backups and large files."},{id:"load-balancer",name:"Load Balancer",category:"network",tooltip:"Distributes traffic across multiple servers. Examples: AWS ALB, nginx. Prevents server overload."},{id:"api-gateway",name:"API Gateway",category:"network",tooltip:"Single entry point for API requests. Handles routing, auth, rate limiting. Examples: Kong, AWS API Gateway."},{id:"dns",name:"DNS",category:"network",tooltip:"Domain Name System resolves domain names to IP addresses. Examples: Route 53, CloudFlare DNS."},{id:"message-queue",name:"Message Queue",category:"messaging",tooltip:"Async communication between services. Examples: RabbitMQ, AWS SQS. Enables loose coupling."},{id:"websockets",name:"WebSockets",category:"messaging",tooltip:"Real-time bidirectional communication. Essential for chat, live updates. Examples: Socket.io, native WebSocket."},{id:"event-streaming",name:"Event Streaming",category:"messaging",tooltip:"High-throughput event processing. Examples: Apache Kafka, AWS Kinesis. Good for real-time analytics."},{id:"monitoring",name:"Monitoring",category:"analytics",tooltip:"Track system health and performance metrics. Examples: DataDog, New Relic, Prometheus."},{id:"logging",name:"Logging",category:"analytics",tooltip:"Collect and analyze application logs. Examples: ELK Stack, Splunk. Essential for debugging."},{id:"analytics",name:"Analytics",category:"analytics",tooltip:"Business intelligence and user behavior tracking. Examples: Google Analytics, Mixpanel."},{id:"auth-service",name:"Auth Service",category:"security",tooltip:"User authentication and authorization. Examples: Auth0, AWS Cognito, OAuth providers."},{id:"firewall",name:"Firewall",category:"security",tooltip:"Network security filtering malicious traffic. Examples: AWS WAF, CloudFlare Security. Blocks attacks."},{id:"encryption",name:"Encryption",category:"security",tooltip:"Data protection at rest and in transit. Examples: TLS/SSL, AWS KMS. Required for sensitive data."}],Ze=zt.reduce((e,t)=>(e[t.id]=t,e),{}),Li=[{id:"all",name:"All",components:[]},{id:"compute",name:"Compute",components:["web-server","app-server","lambda"]},{id:"database",name:"Database",components:["database","cache","search-engine"]},{id:"storage",name:"Storage",components:["file-storage","cdn","object-storage"]},{id:"network",name:"Network",components:["load-balancer","api-gateway","dns"]},{id:"messaging",name:"Messaging",components:["message-queue","websockets","event-streaming"]},{id:"analytics",name:"Analytics",components:["monitoring","logging","analytics"]},{id:"security",name:"Security",components:["auth-service","firewall","encryption"]}];var Oi=D("<button> </button>"),zi=D('<button><div class="flex items-center justify-between"><span class="font-medium"> </span> <div></div></div></button>'),$i=D('<div class="card"><h3 class="font-semibold text-lg mb-4 text-gray-100">Components</h3> <div class="flex flex-wrap gap-2 mb-6"></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4"></div> <div class="text-sm text-gray-400 bg-gray-700 bg-opacity-30 p-3 rounded-md">Click components to add them to the current phase</div></div>');function Gi(e,t){kt(t,!1);const a=j(),r=$a();let i=Sa(t,"selectedComponents",24,()=>[]),n=j("all");function l(v){r("componentSelect",{component:v})}function c(v){S(n,v)}function o(v){return{compute:"border-orange-500 text-orange-400",database:"border-purple-500 text-purple-400",storage:"border-green-500 text-green-400",network:"border-blue-500 text-blue-400",messaging:"border-red-500 text-red-400",analytics:"border-emerald-500 text-emerald-400",security:"border-amber-500 text-amber-400"}[v]||"border-gray-500 text-gray-400"}function u(v){return i().includes(v)}ht(()=>(s(n),zt),()=>{S(a,s(n)==="all"?zt:zt.filter(v=>v.category===s(n)))}),Wa(),ea();var m=$i(),g=y(p(m),2);oe(g,5,()=>Li,se,(v,d)=>{var _=Oi(),b=p(_);z(()=>{ue(_,1,`px-3 py-1 rounded-md text-sm transition-colors border ${s(n),s(d),h(()=>s(n)===s(d).id?"bg-gray-700 border-gray-500 text-gray-100":"border-gray-600 text-gray-400 hover:border-gray-500")??""}`),A(b,(s(d),h(()=>s(d).name)))}),Ce("click",_,()=>c(s(d).id)),C(v,_)});var f=y(g,2);oe(f,5,()=>s(a),se,(v,d)=>{var _=zi(),b=p(_),P=p(b),M=p(P),w=y(P,2);z((W,R,E)=>{ue(_,1,`component-chip text-left ${W??""} ${R??""}`),jr(_,"title",(s(d),h(()=>s(d).tooltip))),A(M,(s(d),h(()=>s(d).name))),ue(w,1,`w-2 h-2 rounded-full bg-current opacity-50 ${E??""}`)},[()=>(s(d),h(()=>o(s(d).category))),()=>(s(d),h(()=>u(s(d).id)?"selected bg-gray-600 border-current":"")),()=>(s(d),h(()=>u(s(d).id)?"opacity-100":""))]),Ce("click",_,()=>l(s(d))),C(v,_)}),C(e,m),St()}const Bi={netflix:{mvp:{required:["web-server","database"],beneficial:["file-storage"],avoid:["cdn","cache","load-balancer","analytics","monitoring"]},scale1:{required:["web-server","database","file-storage","cdn"],beneficial:["cache","load-balancer","monitoring"],avoid:["message-queue","api-gateway","search-engine"]},scale2:{required:["web-server","database","file-storage","cdn","cache","load-balancer"],beneficial:["monitoring","analytics","api-gateway","message-queue"],avoid:["lambda","websockets","event-streaming"]},enterprise:{required:["web-server","database","file-storage","cdn","cache","load-balancer","monitoring","analytics"],beneficial:["api-gateway","message-queue","auth-service","firewall","search-engine"],avoid:[]}},slack:{mvp:{required:["web-server","database","websockets"],beneficial:["cache"],avoid:["cdn","load-balancer","analytics"]},scale1:{required:["web-server","database","websockets","cache","load-balancer"],beneficial:["monitoring","message-queue"],avoid:["search-engine","analytics","api-gateway"]},scale2:{required:["web-server","database","websockets","cache","load-balancer","monitoring"],beneficial:["message-queue","api-gateway","search-engine","analytics"],avoid:["lambda","event-streaming"]},enterprise:{required:["web-server","database","websockets","cache","load-balancer","monitoring","message-queue"],beneficial:["api-gateway","search-engine","analytics","auth-service","firewall"],avoid:[]}},uber:{mvp:{required:["web-server","database"],beneficial:["cache"],avoid:["load-balancer","message-queue","analytics"]},scale1:{required:["web-server","database","cache","load-balancer"],beneficial:["monitoring","api-gateway"],avoid:["search-engine","websockets","lambda"]},scale2:{required:["web-server","database","cache","load-balancer","api-gateway","message-queue"],beneficial:["monitoring","analytics","search-engine"],avoid:["websockets","event-streaming"]},enterprise:{required:["web-server","database","cache","load-balancer","api-gateway","message-queue","monitoring"],beneficial:["analytics","search-engine","auth-service","firewall","lambda"],avoid:[]}},spotify:{mvp:{required:["web-server","database"],beneficial:["file-storage","cache"],avoid:["search-engine","analytics","cdn"]},scale1:{required:["web-server","database","file-storage","cache"],beneficial:["search-engine","cdn","monitoring"],avoid:["message-queue","lambda","websockets"]},scale2:{required:["web-server","database","file-storage","cache","search-engine","cdn"],beneficial:["monitoring","analytics","api-gateway","load-balancer"],avoid:["websockets","event-streaming"]},enterprise:{required:["web-server","database","file-storage","cache","search-engine","cdn","analytics"],beneficial:["monitoring","api-gateway","load-balancer","auth-service","lambda"],avoid:[]}},instagram:{mvp:{required:["web-server","database"],beneficial:["file-storage","cache"],avoid:["cdn","search-engine","analytics"]},scale1:{required:["web-server","database","file-storage","cache","cdn"],beneficial:["load-balancer","monitoring"],avoid:["search-engine","message-queue","websockets"]},scale2:{required:["web-server","database","file-storage","cache","cdn","load-balancer"],beneficial:["monitoring","analytics","search-engine","message-queue"],avoid:["lambda","websockets"]},enterprise:{required:["web-server","database","file-storage","cache","cdn","load-balancer","monitoring","analytics"],beneficial:["search-engine","message-queue","auth-service","firewall","api-gateway"],avoid:[]}},stripe:{mvp:{required:["web-server","database","auth-service"],beneficial:["firewall","monitoring"],avoid:["load-balancer","cache","api-gateway","analytics"]},scale1:{required:["web-server","database","auth-service","firewall","api-gateway"],beneficial:["load-balancer","monitoring","cache"],avoid:["message-queue","analytics","search-engine"]},scale2:{required:["web-server","database","auth-service","firewall","api-gateway","load-balancer","monitoring"],beneficial:["cache","message-queue","analytics"],avoid:["websockets","cdn","file-storage"]},enterprise:{required:["web-server","database","auth-service","firewall","api-gateway","load-balancer","monitoring","analytics"],beneficial:["cache","message-queue","lambda","event-streaming"],avoid:[]}},monzo:{mvp:{required:["web-server","database","auth-service","api-gateway"],beneficial:["monitoring","firewall"],avoid:["cache","load-balancer","analytics","websockets"]},scale1:{required:["web-server","database","auth-service","api-gateway","monitoring","firewall"],beneficial:["message-queue","cache"],avoid:["analytics","search-engine","lambda"]},scale2:{required:["web-server","database","auth-service","api-gateway","monitoring","firewall","message-queue"],beneficial:["cache","analytics","event-streaming"],avoid:["websockets","cdn","file-storage"]},enterprise:{required:["web-server","database","auth-service","api-gateway","monitoring","firewall","message-queue","analytics"],beneficial:["cache","event-streaming","lambda","search-engine"],avoid:[]}},robinhood:{mvp:{required:["web-server","database","auth-service"],beneficial:["monitoring","cache"],avoid:["load-balancer","api-gateway","analytics","message-queue"]},scale1:{required:["web-server","database","auth-service","cache","monitoring"],beneficial:["load-balancer","api-gateway","firewall"],avoid:["analytics","search-engine","websockets"]},scale2:{required:["web-server","database","auth-service","cache","monitoring","load-balancer","event-streaming"],beneficial:["api-gateway","firewall","analytics"],avoid:["websockets","cdn","file-storage"]},enterprise:{required:["web-server","database","auth-service","cache","monitoring","load-balancer","event-streaming","analytics"],beneficial:["api-gateway","firewall","lambda","message-queue"],avoid:[]}},shopify:{mvp:{required:["web-server","database"],beneficial:["cache","file-storage"],avoid:["load-balancer","api-gateway","analytics","cdn"]},scale1:{required:["web-server","database","cache","load-balancer","api-gateway"],beneficial:["monitoring","file-storage","firewall"],avoid:["analytics","search-engine","message-queue"]},scale2:{required:["web-server","database","cache","load-balancer","api-gateway","monitoring","message-queue"],beneficial:["file-storage","firewall","analytics","search-engine"],avoid:["websockets","event-streaming"]},enterprise:{required:["web-server","database","cache","load-balancer","api-gateway","monitoring","message-queue","analytics"],beneficial:["file-storage","firewall","search-engine","auth-service","lambda"],avoid:[]}},doordash:{mvp:{required:["web-server","database"],beneficial:["cache","monitoring"],avoid:["load-balancer","api-gateway","analytics","websockets"]},scale1:{required:["web-server","database","cache","api-gateway","message-queue"],beneficial:["load-balancer","monitoring","firewall"],avoid:["analytics","search-engine","event-streaming"]},scale2:{required:["web-server","database","cache","api-gateway","message-queue","load-balancer","monitoring"],beneficial:["analytics","firewall","search-engine","lambda"],avoid:["websockets","cdn","file-storage"]},enterprise:{required:["web-server","database","cache","api-gateway","message-queue","load-balancer","monitoring","analytics"],beneficial:["firewall","search-engine","lambda","event-streaming","auth-service"],avoid:[]}},etsy:{mvp:{required:["web-server","database"],beneficial:["file-storage","search-engine"],avoid:["cache","load-balancer","analytics","api-gateway"]},scale1:{required:["web-server","database","file-storage","search-engine","cache"],beneficial:["load-balancer","cdn","monitoring"],avoid:["analytics","message-queue","api-gateway"]},scale2:{required:["web-server","database","file-storage","search-engine","cache","load-balancer","cdn"],beneficial:["monitoring","analytics","api-gateway"],avoid:["websockets","event-streaming","lambda"]},enterprise:{required:["web-server","database","file-storage","search-engine","cache","load-balancer","cdn","analytics"],beneficial:["monitoring","api-gateway","auth-service","firewall","message-queue"],avoid:[]}}};function sr(e,t,a){const r=Bi[e]?.[t];if(!r)return{score:0,completionRate:0,feedback:["Invalid phase"],breakdown:[]};let i=0;const n=[],l=[],c=a.filter(f=>r.required.includes(f)),o=r.required.filter(f=>!a.includes(f));c.forEach(f=>{i+=10,l.push({component:f,reason:"Required component",points:10})}),o.forEach(f=>{i-=5,l.push({component:f,reason:"Missing required component",points:-5})});const u=a.filter(f=>r.beneficial.includes(f));u.forEach(f=>{i+=5,l.push({component:f,reason:"Beneficial component",points:5})});const m=a.filter(f=>r.avoid.includes(f));m.forEach(f=>{i-=3,l.push({component:f,reason:"Premature for this phase",points:-3})}),o.length===0?n.push("Great job! You included all essential components."):n.push(`Missing ${o.length} essential component(s): ${o.join(", ")}`),u.length>0&&n.push(`Good additions: ${u.join(", ")}`),m.length>0&&n.push(`Consider removing: ${m.join(", ")} (premature for this phase)`);const g=Math.round(c.length/r.required.length*100);return{score:Math.max(0,i),completionRate:g,feedback:n,breakdown:l}}function or(e,t){return{netflix:{mvp:"Netflix started as a DVD-by-mail service with basic web functionality. What components did they need to launch their simple catalog and user management system?",scale1:"10M users are now streaming video. What infrastructure is needed to deliver video content reliably at this scale?",scale2:"100M+ users globally, multiple content types. The original architecture is breaking. What's needed for the next level?",enterprise:"230M+ subscribers across 190 countries with AI recommendations. What enterprise-grade components are required?"},slack:{mvp:"Slack needs real-time messaging for small teams. What are the core components for a chat application?",scale1:"10K concurrent users, message history is getting slow. What components help scale real-time messaging?",scale2:"100K+ users, enterprise customers want advanced features. What's needed for the next growth phase?",enterprise:"Millions of users, shared channels across organizations. What enterprise features are required?"},uber:{mvp:"Simple ride matching for one city. What basic components are needed for location-based matching?",scale1:"Expanding to 50 cities, drivers and riders growing fast. What components help scale geographically?",scale2:"1000+ cities, real-time pricing, driver optimization. What's needed for complex operations?",enterprise:"Global platform with multiple services (food, freight). What enterprise architecture is required?"},spotify:{mvp:"Music streaming for desktop users. What components are needed to stream music files?",scale1:"Mobile app launch, millions of songs. What components help scale music delivery and discovery?",scale2:"Personalized playlists, social features. What's needed for recommendation and social systems?",enterprise:"AI-powered recommendations, podcast platform. What enterprise features support content variety?"},instagram:{mvp:"Photo sharing app for mobile. What basic components are needed for image upload and sharing?",scale1:"Millions of users, photo feeds getting slow. What components help scale image delivery?",scale2:"Stories, video, messaging features. What's needed to support multiple content types?",enterprise:"Billions of users, AI content moderation. What enterprise-scale components are required?"},stripe:{mvp:"Simple payment processing API. What core components are needed for secure payment handling?",scale1:"Supporting 120+ countries, multiple payment methods. What's needed for international expansion?",scale2:"Processing millions of transactions daily. What components handle high-volume payment processing?",enterprise:"$1 trillion payment volume annually. What enterprise-grade infrastructure is required?"},monzo:{mvp:"Digital prepaid card with basic banking. What core components are needed for financial transactions?",scale1:"Full current account features, real-time notifications. What's needed for real-time banking?",scale2:"Millions of customers, complex financial products. What components support banking at scale?",enterprise:"Full-service digital bank with lending and investments. What enterprise banking features are required?"},robinhood:{mvp:"Commission-free stock trading app. What basic components are needed for trade execution?",scale1:"Millions of users, market data streaming. What's needed to handle trading volume?",scale2:"Multi-asset platform, options trading. What components support complex trading operations?",enterprise:"Global trading platform with crypto and derivatives. What enterprise trading infrastructure is required?"},shopify:{mvp:"Simple online store builder. What basic components are needed for e-commerce stores?",scale1:"Thousands of merchants, app ecosystem. What's needed for multi-tenant platform scaling?",scale2:"Black Friday traffic spikes, global merchants. What components handle massive traffic surges?",enterprise:"Millions of merchants, enterprise features. What components support platform-scale e-commerce?"},doordash:{mvp:"Local food delivery matching. What basic components are needed for delivery coordination?",scale1:"Multiple cities, real-time tracking. What's needed for geographic expansion and logistics?",scale2:"AI-powered routing, dynamic pricing. What components support intelligent delivery optimization?",enterprise:"Global delivery platform with multiple verticals. What enterprise logistics infrastructure is required?"},etsy:{mvp:"Handmade goods marketplace. What basic components are needed for marketplace functionality?",scale1:"Millions of unique items, search discovery. What's needed for marketplace search at scale?",scale2:"Personalized recommendations, seller tools. What components support marketplace intelligence?",enterprise:"Global creative economy platform. What enterprise marketplace infrastructure is required?"}}[t]?.[e]||`Choose the right components for ${e} phase.`}const ji={netflix:{mvp:{title:"Simple Content Delivery Foundation",explanation:"Netflix started as a DVD-by-mail service moving online. At MVP stage, the architecture needed to be simple and cost-effective.",keyInsights:["Web Server handles basic catalog browsing and user accounts","Database stores user profiles, preferences, and content metadata","File Storage (optional) for initial small video library","Avoided CDN/caching - premature optimization for small user base","No load balancer needed - single server could handle early traffic"],architecturalPrinciples:["Start simple: Minimum viable infrastructure","Avoid over-engineering: No complex scaling before you need it","Focus on core business logic: Content catalog and user management"],architectureLinks:[{title:"Netflix Tech Blog - Architecture Evolution",url:"https://netflixtechblog.com/tagged/architecture"}]},scale1:{title:"Video Streaming at Scale",explanation:"With 10M+ users streaming video, Netflix needed infrastructure to deliver large files globally with good performance.",keyInsights:["CDN becomes critical for video delivery - reduces bandwidth costs","File Storage scaled up for massive video library","Cache improves metadata access and reduces database load","Load Balancer distributes traffic across multiple web servers","Monitoring essential to track video quality and delivery issues"],architecturalPrinciples:["Content delivery optimization: CDN for global video streaming","Performance monitoring: Track user experience quality","Horizontal scaling: Multiple servers behind load balancer"],architectureLinks:[{title:"Netflix CDN Strategy",url:"https://netflixtechblog.com/serving-100-gbps-from-an-open-connect-appliance-cdb51dda3b99"}]},scale2:{title:"Personalization and Microservices",explanation:"With 100M+ users, Netflix needed recommendation engines, multiple content types, and resilient architecture.",keyInsights:["API Gateway manages microservices communication","Message Queues enable asynchronous processing for recommendations","Analytics track user behavior for machine learning","Search Engine powers content discovery","Multiple caching layers optimize different data types"],architecturalPrinciples:["Microservices architecture: Independent, scalable services","Data-driven decisions: Analytics for personalization","Asynchronous processing: Decouple services with messaging"]},enterprise:{title:"Global Streaming Platform",explanation:"Netflix operates in 190+ countries with enterprise-grade security, compliance, and operational excellence.",keyInsights:["Auth Service handles global user authentication and security","Firewall and security for content protection and compliance","Event Streaming processes billions of user interactions","Advanced analytics for business intelligence and content decisions","Multi-region redundancy and disaster recovery"],architecturalPrinciples:["Security first: Protect content and user data globally","Operational excellence: Advanced monitoring and automation","Business intelligence: Data drives content and technology decisions"]}},slack:{mvp:{title:"Real-time Messaging Foundation",explanation:"Slack's core value is real-time team communication. The MVP architecture prioritized message delivery reliability.",keyInsights:["WebSockets enable real-time bidirectional communication","Database stores messages, channels, and user data","Web Server handles authentication and basic HTTP requests","Cache (optional) improves message history performance","Avoided CDN - not needed for text-based messaging"],architecturalPrinciples:["Real-time first: WebSocket connections for instant messaging","Message persistence: Reliable storage and retrieval","Simple and focused: Core messaging functionality only"],architectureLinks:[{title:"Slack Engineering Blog",url:"https://slack.engineering/"}]},scale1:{title:"Concurrent Connection Scaling",explanation:"With millions of concurrent users, Slack needed to scale WebSocket connections and message throughput.",keyInsights:["Load Balancer distributes WebSocket connections across servers","Cache becomes critical for fast message history and user presence","Message Queues handle high-volume message processing","Monitoring tracks connection health and message delivery","Database optimization for high read/write message volumes"],architecturalPrinciples:["Connection scaling: Distribute WebSocket load efficiently","Message throughput: Queue-based processing for reliability","Performance monitoring: Track real-time communication quality"]},scale2:{title:"Enterprise Features and Search",explanation:"Enterprise customers need advanced features like search, integrations, and compliance capabilities.",keyInsights:["Search Engine enables finding messages across large message histories","API Gateway manages third-party integrations and webhooks","Analytics track team collaboration patterns","Advanced message queuing for integration processing","Security features for enterprise compliance"],architecturalPrinciples:["Enterprise readiness: Advanced search and integrations","Data insights: Analytics on team communication patterns","Integration platform: API-driven third-party connections"]},enterprise:{title:"Global Enterprise Platform",explanation:"Enterprise Slack supports large organizations with advanced security, compliance, and management features.",keyInsights:["Auth Service provides enterprise SSO and security policies","Firewall and security for data protection and compliance","Advanced analytics for organization insights and administration","Event processing for audit logs and compliance reporting","Multi-tenant architecture for organization isolation"],architecturalPrinciples:["Enterprise security: SSO, compliance, and data protection","Administrative control: Organization management and policies","Audit and compliance: Complete activity tracking and reporting"]}},stripe:{mvp:{title:"Secure Payment API Foundation",explanation:"Stripe started with a simple goal: make online payments easy for developers. The MVP needed rock-solid security and regulatory compliance from day one.",keyInsights:["Auth Service critical for PCI DSS compliance from launch","Database stores payment transactions with ACID guarantees","Web Server handles API requests with SSL/TLS encryption","Firewall essential for payment security and fraud prevention","Avoided complex scaling - focused on security and compliance first"],architecturalPrinciples:["Security first: PCI compliance and encryption from day one","Developer experience: Simple API that abstracts payment complexity","Financial consistency: ACID transactions for payment reliability"]},scale1:{title:"Global Payment Network",explanation:"Supporting 120+ countries required robust API management, geographic distribution, and handling multiple payment methods and currencies.",keyInsights:["API Gateway manages different payment methods and routing","Load Balancer distributes traffic across geographic regions","Cache improves API response times for merchant requests","Monitoring essential for payment success rates and compliance","Multi-region architecture for global payment processing"],architecturalPrinciples:["Global scale: Multi-region deployment for local regulations","API reliability: Gateway patterns for payment method abstraction","Performance monitoring: Track success rates and response times"]},scale2:{title:"High-Volume Transaction Processing",explanation:"Processing millions of daily transactions required queue-based architecture, advanced analytics, and machine learning for fraud detection.",keyInsights:["Message Queues handle asynchronous payment processing","Analytics track payment patterns and detect fraud","Cache layers optimize payment routing decisions","Advanced monitoring for compliance and operational excellence","Event-driven architecture for payment lifecycle management"],architecturalPrinciples:["Asynchronous processing: Queues for reliable payment handling","Data-driven security: ML-powered fraud detection","Operational excellence: Advanced monitoring and alerting"]},enterprise:{title:"Adaptive Financial Platform",explanation:"Processing $1 trillion annually requires sophisticated event streaming, serverless computing, and platform-level abstractions for complex financial products.",keyInsights:["Event Streaming processes billions of financial events","Lambda functions handle payment routing and business logic","Advanced analytics for business intelligence and risk management","Platform architecture supporting multiple financial products","Real-time compliance monitoring and reporting"],architecturalPrinciples:["Platform thinking: Enable multiple financial products","Event-driven architecture: Real-time financial event processing","Adaptive infrastructure: Serverless for variable payment loads"]}},monzo:{mvp:{title:"Microservices Banking Foundation",explanation:"Monzo built a digital bank from scratch using microservices from day one, requiring API-first architecture and strong authentication.",keyInsights:["API Gateway coordinates communication between banking services","Auth Service handles customer identity and banking regulations","Database stores account information with banking-grade security","Monitoring essential for financial service reliability","Microservices architecture from launch - no monolith migration"],architecturalPrinciples:["API-first design: All banking functions as microservices","Regulatory compliance: Built-in banking regulations from start","Real-time architecture: Instant notifications and balance updates"]},scale1:{title:"Real-time Banking Operations",explanation:"Full banking license required real-time transaction processing, regulatory compliance, and customer notification systems.",keyInsights:["Message Queues handle real-time transaction processing","Firewall and security for banking regulatory compliance","Cache improves account balance and transaction history performance","Advanced monitoring for banking SLA requirements","Service mesh manages communication between hundreds of services"],architecturalPrinciples:["Real-time transactions: Instant balance updates and notifications","Banking compliance: Regulatory requirements built into architecture","Service reliability: Advanced monitoring for financial operations"]},scale2:{title:"Full-Service Digital Bank",explanation:"Millions of customers required sophisticated event processing, advanced analytics, and platform scalability for financial products.",keyInsights:["Event Streaming processes real-time banking transactions","Analytics track customer behavior and financial patterns","Message queues handle complex financial product workflows","Service mesh manages 1,600+ microservices communication","Advanced caching for customer-facing application performance"],architecturalPrinciples:["Event-driven banking: Real-time transaction processing","Customer insights: Analytics for personalized banking","Scalable microservices: Managing hundreds of banking services"]},enterprise:{title:"Financial Super-App Platform",explanation:"Operating 2,800+ microservices required advanced event streaming, serverless functions, and comprehensive analytics for business and regulatory insights.",keyInsights:["Lambda functions handle business rules and financial calculations","Search Engine enables customer transaction and account queries","Event Streaming manages complex financial product interactions","Advanced analytics for regulatory reporting and business intelligence","Automated service deployment and management at scale"],architecturalPrinciples:["Platform architecture: Supporting diverse financial products","Automated operations: Managing thousands of services efficiently","Comprehensive insights: Analytics for business and compliance"]}},robinhood:{mvp:{title:"Commission-Free Trading Foundation",explanation:"Robinhood disrupted trading with zero commissions, requiring secure authentication, real-time market data, and reliable trade execution.",keyInsights:["Auth Service handles secure customer authentication for trading","Database stores account balances and trading history","Cache improves market data access and account information","Web Server handles trade execution and market data API","Security essential for financial account protection"],architecturalPrinciples:["Mobile-first design: Trading optimized for smartphone users","Zero-commission model: Efficiency critical for business model","Security first: Protect customer trading accounts and data"]},scale1:{title:"Market Data Streaming at Scale",explanation:"Millions of users required real-time market data, load balancing for trading spikes, and comprehensive monitoring for trading reliability.",keyInsights:["Load Balancer distributes trading load across servers","API Gateway manages market data feeds and trading APIs","Firewall protects against trading manipulation and attacks","Monitoring tracks trading system health and market data quality","Cache optimizes frequently accessed market information"],architecturalPrinciples:["Real-time data: Streaming market information to millions","Spike handling: Load balancing for market open rushes","Trading reliability: Monitoring for consistent trade execution"]},scale2:{title:"Multi-Asset Trading Platform",explanation:"Supporting options, crypto, and volatile trading periods required event streaming for market data and advanced analytics for risk management.",keyInsights:["Event Streaming processes real-time market data and trades","Analytics track trading patterns and risk management","Advanced monitoring for trading system performance","API Gateway manages different asset types and trading rules","Firewall and security for multi-asset trading protection"],architecturalPrinciples:["Event-driven trading: Real-time market data processing","Risk management: Analytics for trading pattern monitoring","Multi-asset support: Platform flexibility for different instruments"]},enterprise:{title:"Global Trading Marketplace",explanation:"Global expansion and crypto trading required serverless scaling, comprehensive analytics, and advanced event processing for complex trading operations.",keyInsights:["Lambda functions handle trading rules and risk calculations","Message Queues manage complex multi-asset trading workflows","Advanced analytics for regulatory reporting and risk management","Event streaming for global market data and trade processing","Comprehensive monitoring for global trading operations"],architecturalPrinciples:["Global trading: Multi-region support for worldwide markets","Serverless scaling: Handle variable trading volumes efficiently","Comprehensive analytics: Risk management and regulatory compliance"]}},shopify:{mvp:{title:"Simple Store Builder Foundation",explanation:"Shopify started as a simple way to create online stores, requiring basic multi-tenancy and merchant isolation from day one.",keyInsights:["Web Server handles merchant store requests and admin interface","Database stores merchant data with tenant isolation","Cache improves store performance for customer browsing","File Storage for product images and store assets","Basic multi-tenant architecture for merchant separation"],architecturalPrinciples:["Multi-tenant design: Isolated merchant stores on shared infrastructure","Merchant-focused: Simple tools for non-technical store owners","Performance first: Fast store loading for customer experience"]},scale1:{title:"Platform Ecosystem Scaling",explanation:"Thousands of merchants and app ecosystem required robust API management, platform scalability, and comprehensive monitoring.",keyInsights:["API Gateway manages merchant apps and third-party integrations","Load Balancer distributes traffic across merchant stores","Cache layers optimize store performance and API responses","Monitoring tracks platform health and merchant success metrics","File Storage scales for millions of product images and assets"],architecturalPrinciples:["Platform thinking: Enable third-party app ecosystem","Scalable multi-tenancy: Support thousands of isolated stores","Performance optimization: Fast loading for merchant success"]},scale2:{title:"Black Friday Traffic Architecture",explanation:"Handling massive traffic spikes required advanced queuing, sophisticated analytics, and comprehensive monitoring for peak shopping periods.",keyInsights:["Message Queues handle order processing and inventory updates","Analytics track sales performance and platform metrics","Search Engine powers product discovery across merchant stores","Firewall protects against traffic spikes and security threats","Advanced monitoring for Black Friday performance tracking"],architecturalPrinciples:["Spike resilience: Architecture designed for peak shopping traffic","Event-driven commerce: Asynchronous order and inventory processing","Merchant insights: Analytics for sales optimization and growth"]},enterprise:{title:"Commerce Operating System",explanation:"Supporting millions of merchants requires serverless scaling, advanced authentication, and comprehensive platform management capabilities.",keyInsights:["Lambda functions handle business logic and merchant customizations","Auth Service manages merchant authentication and permissions","Search Engine enables advanced product discovery and recommendations","Comprehensive analytics for merchant success and platform optimization","Advanced firewall and security for global commerce protection"],architecturalPrinciples:["Platform-as-a-Service: Complete commerce infrastructure for merchants","Global scale: Support merchants worldwide with local performance","Merchant success: Analytics and tools to drive business growth"]}},doordash:{mvp:{title:"Local Delivery Coordination",explanation:"DoorDash started with simple three-sided marketplace coordination: restaurants, drivers, and customers in local markets.",keyInsights:["Web Server handles order placement and driver matching","Database stores restaurants, drivers, and customer information","Cache improves restaurant menu loading and driver location data","Monitoring tracks delivery success rates and customer satisfaction","Simple coordination logic for local delivery matching"],architecturalPrinciples:["Three-sided marketplace: Balance needs of restaurants, drivers, customers","Local focus: Optimize for city-level delivery operations","Real-time coordination: Match orders with available drivers quickly"]},scale1:{title:"Multi-City Logistics Platform",explanation:"Geographic expansion required sophisticated API management, real-time messaging, and comprehensive monitoring for delivery coordination.",keyInsights:["API Gateway coordinates restaurant integrations and driver apps","Message Queues handle order workflow and delivery tracking","Load Balancer distributes traffic across city operations","Monitoring tracks delivery metrics across multiple markets","Cache optimizes restaurant data and driver location updates"],architecturalPrinciples:["Geographic scaling: Independent city operations with shared platform","Real-time logistics: Messaging for order and delivery coordination","Operational excellence: Monitoring for delivery performance optimization"]},scale2:{title:"AI-Powered Delivery Optimization",explanation:"Advanced routing and demand prediction required machine learning analytics, sophisticated search capabilities, and serverless processing.",keyInsights:["Analytics power machine learning for delivery time prediction","Search Engine enables restaurant discovery and recommendation","Lambda functions handle dynamic pricing and route optimization","Firewall protects against fraudulent orders and driver manipulation","Advanced monitoring for AI model performance and accuracy"],architecturalPrinciples:["ML-driven operations: AI for routing, pricing, and demand prediction","Dynamic optimization: Real-time adjustment of delivery parameters","Data-driven growth: Analytics for market expansion and efficiency"]},enterprise:{title:"Autonomous Logistics Infrastructure",explanation:"Global delivery platform with multiple verticals requires event streaming, advanced authentication, and comprehensive platform capabilities.",keyInsights:["Event Streaming processes millions of delivery events and logistics data","Auth Service manages complex driver, merchant, and customer permissions","Advanced analytics for business intelligence and operational optimization","Search Engine powers advanced restaurant and product discovery","Comprehensive monitoring for global delivery operations"],architecturalPrinciples:["Platform diversification: Support multiple delivery verticals","Global logistics: Worldwide delivery coordination and optimization","Autonomous operations: AI and automation for delivery efficiency"]}},etsy:{mvp:{title:"Handmade Marketplace Foundation",explanation:"Etsy started as a marketplace for unique handmade items, requiring search capabilities and file storage for creative product listings.",keyInsights:["Search Engine essential for discovering unique handmade items","File Storage handles product photos and creative content","Database stores seller listings and buyer information","Web Server manages marketplace browsing and transactions","Focus on discovery - search more important than performance optimization"],architecturalPrinciples:["Discovery first: Search and browsing optimized for unique items","Creative marketplace: Support for artisan sellers and buyers","Community focus: Platform designed for creative economy"]},scale1:{title:"Search and Discovery at Scale",explanation:"Millions of unique items required sophisticated search, content delivery, and performance optimization for marketplace browsing.",keyInsights:["CDN improves product image loading across global markets","Load Balancer distributes traffic for marketplace browsing","Cache optimizes search results and popular product categories","Monitoring tracks search quality and conversion rates","Advanced search algorithms for long-tail item discovery"],architecturalPrinciples:["Search optimization: Advanced algorithms for unique item discovery","Global marketplace: CDN and performance for worldwide buyers","Conversion focus: Optimize browsing to purchase experience"]},scale2:{title:"Personalized Creative Marketplace",explanation:"Personalized recommendations and seller tools required advanced analytics, API management, and comprehensive monitoring capabilities.",keyInsights:["Analytics power personalized recommendations and seller insights","API Gateway manages seller tools and third-party integrations","Monitoring tracks marketplace health and seller success metrics","Advanced search with personalization and recommendation features","CDN optimizes creative content delivery globally"],architecturalPrinciples:["Personalization engine: ML-driven recommendations for buyers","Seller empowerment: Tools and analytics for creative entrepreneurs","Marketplace intelligence: Data insights for growth and optimization"]},enterprise:{title:"Global Creative Economy Platform",explanation:"Supporting millions of buyers requires sophisticated authentication, advanced messaging, and comprehensive platform management for creative commerce.",keyInsights:["Auth Service manages buyer and seller authentication globally","Message Queues handle order processing and seller notifications","Firewall protects against fraud and marketplace manipulation","Advanced analytics for marketplace insights and trend analysis","API Gateway enables seller tool ecosystem and integrations"],architecturalPrinciples:["Creative economy: Platform supporting millions of unique items","Global commerce: Worldwide marketplace for creative goods","Community platform: Tools and insights for creative entrepreneurship"]}}};function Hi(e,t){return ji[e]?.[t]||null}var Vi=D("<div></div>"),Ki=D('<div class="flex items-center"><div> </div> <!></div>'),Ui=D('<button class="btn-primary"> </button>'),Qi=D('<div class="drop-zone text-center"><div class="w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center mx-auto mb-3"><span class="text-gray-400 text-2xl">+</span></div> <p class="text-gray-400">No components selected yet</p> <p class="text-sm text-gray-500 mt-2">Choose components from the left panel</p></div>'),Yi=D('<div><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><span class="text-sm"> </span></div> <button class="ml-2 hover:bg-red-500 rounded p-1 transition-colors" title="Remove component">âœ•</button></div></div>'),Ji=D('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"></div>'),Zi=D('<p class="text-green-300 text-sm"> </p>'),Xi=D('<div class="flex justify-between"><span class="capitalize"> </span> <span> </span></div>'),es=D('<details class="text-green-300 text-sm"><summary class="cursor-pointer hover:text-green-200 mb-2">Score Breakdown</summary> <div class="space-y-1 ml-4"></div></details>'),ts=D('<li class="flex items-start"><span class="text-green-400 mr-2 mt-1">â€¢</span> <span> </span></li>'),as=D('<li class="flex items-start"><span class="text-blue-400 mr-2 mt-1">â–¶</span> <span> </span></li>'),rs=D('<li class="flex items-start"><span class="text-green-400 mr-2 mt-1">ðŸ”—</span> <a target="_blank" rel="noopener noreferrer" class="text-green-300 hover:text-green-200 underline"> </a></li>'),ns=D('<div><h6 class="font-medium text-green-200 mb-2">Real Company Architecture:</h6> <ul class="space-y-1 ml-4"></ul></div>'),is=D('<div class="mt-4 space-y-4 text-green-300 text-sm"><div><h5 class="font-medium text-green-200 mb-2"> </h5> <p class="text-green-300 leading-relaxed"> </p></div> <div><h6 class="font-medium text-green-200 mb-2">Key Architectural Insights:</h6> <ul class="space-y-1 ml-4"></ul></div> <div><h6 class="font-medium text-green-200 mb-2">Architectural Principles Applied:</h6> <ul class="space-y-1 ml-4"></ul></div> <!></div>'),ss=D('<div class="mt-6 border-t border-green-600 pt-4"><button class="flex items-center justify-between w-full text-left text-green-300 hover:text-green-200 transition-colors"><h4 class="font-medium text-green-400">ðŸŽ¯ Why This Architecture Works</h4> <span>â–¼</span></button> <!></div>'),os=D('<div class="mt-4"><button class="btn-primary w-full">Continue to Next Phase â†’</button></div>'),ls=D('<p class="text-green-300 text-sm mt-4"> </p>'),cs=D('<div class="card bg-green-900 bg-opacity-20 border-green-500"><div class="flex items-center justify-between mb-4"><h3 class="font-semibold text-green-400">Phase Complete!</h3> <div class="text-right"><div class="text-2xl font-bold text-green-400"> </div> <div class="text-sm text-green-300"> </div></div></div> <div class="space-y-2 mb-4"></div> <!> <!> <!></div>'),ds=D('<div class="card bg-green-900 bg-opacity-20 border-green-500"><h3 class="font-semibold text-green-400 mb-2">Phase Complete!</h3> <p class="text-green-300"> </p></div>'),us=D(`<div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4"><div class="flex items-center space-x-4"><button class="btn-secondary text-sm">â† Back to Menu</button> <div class="flex items-center space-x-3"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-gray-700 rounded-lg flex items-center justify-center"><span class="text-gray-200 font-semibold text-sm sm:text-lg"> </span></div> <div class="min-w-0 flex-1"><h1 class="text-lg sm:text-2xl font-bold truncate"> </h1> <p class="text-gray-400 text-sm hidden sm:block"> </p></div></div></div> <div class="text-right sm:text-right"><div class="text-sm text-gray-400">Phase Score</div> <div class="text-xl sm:text-2xl font-bold text-gray-100"> </div></div></div> <div class="mb-8"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold"> </h2> <div class="flex space-x-2"></div></div> <div class="card"><p class="text-gray-400 mb-2"> </p> <p class="text-sm"><strong>Your task:</strong> </p></div></div> <div class="grid grid-cols-1 lg:grid-cols-4 gap-6"><div class="lg:col-span-1"><!></div> <div class="lg:col-span-3 space-y-6"><div class="card"><h3 class="font-semibold mb-4">Challenge</h3> <p class="text-gray-400"> </p></div> <div class="card"><div class="flex items-center justify-between mb-4"><h3 class="font-semibold"> </h3> <!></div> <!></div> <!> <div class="card"><h4 class="font-medium mb-2 text-gray-200">Hints</h4> <ul class="text-sm text-gray-400 space-y-1"><li>â€¢ Start with the minimum components needed</li> <li>â€¢ Consider what breaks first at scale</li> <li>â€¢ Think about the company's core business model</li> <li>â€¢ Avoid over-engineering early phases</li></ul></div></div></div></div>`);function fs(e,t){kt(t,!1);const a=j(),r=j();let i=Sa(t,"company",8),n=Sa(t,"currentPhase",12);const l=$a(),c=[{id:"mvp",name:"MVP",description:"Minimum viable product to launch"},{id:"scale1",name:"First Scale",description:"First scaling challenges (10K-100K users)"},{id:"scale2",name:"Growth Scale",description:"Major scaling point (100K-1M+ users)"},{id:"enterprise",name:"Enterprise",description:"Enterprise features and global scale"}];let o=j([]),u=j(0),m=j(!1),g=j(null),f=j(!1);function v(){const x=localStorage.getItem("archpath-progress");if(x){const k=JSON.parse(x);if(k.company===i().id&&(S(u,k.totalScore||0),S(b,k.completedPhases||[]),k.currentPhase===n()&&k.selectedComponents&&S(o,k.selectedComponents),s(b).includes(n()))){S(m,!0);const L=`${i().id}-${n()}`,O=k.phaseComponents?.[L]||[];S(o,O),S(g,sr(i().id,n(),s(o)))}}}function d(x){const k=x.detail.component;s(o).includes(k.id)||S(o,[...s(o),k.id])}function _(x){S(o,s(o).filter(k=>k!==x))}let b=j([]);function P(){const x=sr(i().id,n(),s(o));S(u,s(u)+x.score),S(g,x),S(m,!0),s(b).includes(n())||S(b,[...s(b),n()]);const L=JSON.parse(localStorage.getItem("archpath-progress")||"{}").phaseComponents||{},O=`${i().id}-${n()}`;L[O]=s(o);const G={company:i().id,currentPhase:n(),totalScore:s(u),completedPhases:s(b),selectedComponents:s(o),phaseComponents:L};localStorage.setItem("archpath-progress",JSON.stringify(G))}function M(){if(c.findIndex(x=>x.id===n())<c.length-1){const x=c.findIndex(de=>de.id===n()),k=c[x+1].id,L=[...s(o)];n(k),S(o,L),S(m,!1),S(g,null),S(f,!1);const O=JSON.parse(localStorage.getItem("archpath-progress")||"{}"),G=`${i().id}-${k}`;if(O.phaseComponents?.[G]){const de=O.phaseComponents[G];S(o,[...new Set([...L,...de])])}const me={company:i().id,currentPhase:k,totalScore:s(u),completedPhases:s(b),selectedComponents:s(o),phaseComponents:O.phaseComponents||{}};localStorage.setItem("archpath-progress",JSON.stringify(me))}}function w(){l("backToMenu")}function W(){S(f,!s(f))}function R(x){return{compute:"border-orange-500",database:"border-purple-500",storage:"border-green-500",network:"border-blue-500",messaging:"border-red-500",analytics:"border-emerald-500",security:"border-amber-500"}[x]||"border-gray-500"}ht(()=>($(i()),$(n())),()=>{i()&&n()&&v()}),ht(()=>$(n()),()=>{S(a,c.find(x=>x.id===n()))}),ht(()=>($(i()),$(n())),()=>{S(r,Hi(i().id,n()))}),Wa(),ea();var E=us(),T=p(E),V=p(T),F=p(V),ye=y(F,2),pe=p(ye),X=p(pe),Te=p(X),Fe=y(pe,2),ve=p(Fe),Re=p(ve),He=y(ve,2),lt=p(He),ta=y(V,2),aa=y(p(ta),2),ra=p(aa),Ve=y(T,2),Mt=p(Ve),ct=p(Mt),na=p(ct),Ct=y(ct,2);oe(Ct,5,()=>c,se,(x,k,L)=>{var O=Ki(),G=p(O),me=p(G),de=y(G,2);{var _e=re=>{var xe=Vi();z(Ue=>ue(xe,1,`w-8 h-0.5 mx-2
                ${Ue??""}`),[()=>(s(b),h(()=>s(b).includes(c[L].id)?"bg-green-600":"bg-gray-600"))]),C(re,xe)};Z(de,re=>{h(()=>L<c.length-1)&&re(_e)})}z((re,xe)=>{ue(G,1,`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium
              ${re??""} border-2`),A(me,xe)},[()=>(s(k),$(n()),s(b),h(()=>s(k).id===n()?"bg-gray-700 border-gray-500 text-gray-100":s(b).includes(s(k).id)?"bg-green-700 border-green-600 text-green-100":"bg-transparent border-gray-600 text-gray-400")),()=>(s(b),s(k),h(()=>s(b).includes(s(k).id)?"âœ“":L+1))]),C(x,O)});var qt=y(Mt,2),It=p(qt),ia=p(It),sa=y(It,2),oa=y(p(sa)),la=y(Ve,2),Dt=p(la),ca=p(Dt);Gi(ca,{get selectedComponents(){return s(o)},set selectedComponents(x){S(o,x)},$$events:{componentSelect:d},$$legacy:!0});var dt=y(Dt,2),Ke=p(dt),ut=y(p(Ke),2),Tt=p(ut),Ft=y(Ke,2),Ga=p(Ft),Ba=p(Ga),Hr=p(Ba),Vr=y(Ba,2);{var Kr=x=>{var k=Ui(),L=p(k);z(()=>{k.disabled=s(m),A(L,s(m)?"âœ… Submitted":"Submit Phase")}),Ce("click",k,P),C(x,k)};Z(Vr,x=>{s(o),h(()=>s(o).length>0)&&x(Kr)})}var Ur=y(Ga,2);{var Qr=x=>{var k=Qi();C(x,k)},Yr=x=>{var k=Ji();oe(k,5,()=>s(o),se,(L,O)=>{var G=ka(),me=Vt(G);{var de=_e=>{var re=Yi(),xe=p(re),Ue=p(xe),Rt=p(Ue),da=p(Rt),ua=y(Ue,2);z(fa=>{ue(re,1,`component-chip selected bg-gray-600 text-white ${fa??""}`),A(da,($(Ze),s(O),h(()=>Ze[s(O)].name)))},[()=>($(Ze),s(O),h(()=>R(Ze[s(O)].category)))]),Ce("click",ua,()=>_(s(O))),C(_e,re)};Z(me,_e=>{$(Ze),s(O),h(()=>Ze[s(O)])&&_e(de)})}C(L,G)}),C(x,k)};Z(Ur,x=>{s(o),h(()=>s(o).length===0)?x(Qr):x(Yr,!1)})}var Jr=y(Ft,2);{var Zr=x=>{var k=cs(),L=p(k),O=y(p(L),2),G=p(O),me=p(G),de=y(G,2),_e=p(de),re=y(L,2);oe(re,5,()=>(s(g),h(()=>s(g).feedback)),se,(K,Q)=>{var ne=Zi(),ft=p(ne);z(()=>A(ft,s(Q))),C(K,ne)});var xe=y(re,2);{var Ue=K=>{var Q=es(),ne=y(p(Q),2);oe(ne,5,()=>(s(g),h(()=>s(g).breakdown)),se,(ft,ee)=>{var Nt=Xi(),Qe=p(Nt),Wt=p(Qe),pt=y(Qe,2),Lt=p(pt);z(pa=>{A(Wt,`${pa??""}: ${s(ee),h(()=>s(ee).reason)??""}`),ue(pt,1,`font-mono ${s(ee),h(()=>s(ee).points>0?"text-green-400":s(ee).points<0?"text-red-400":"text-slate-400")??""}`),A(Lt,`${s(ee),h(()=>s(ee).points>0?"+":"")??""}${s(ee),h(()=>s(ee).points)??""}`)},[()=>(s(ee),h(()=>s(ee).component.replace(/-/g," ")))]),C(ft,Nt)}),C(K,Q)};Z(xe,K=>{s(g),h(()=>s(g).breakdown&&s(g).breakdown.length>0)&&K(Ue)})}var Rt=y(xe,2);{var da=K=>{var Q=ss(),ne=p(Q),ft=y(p(ne),2),ee=y(ne,2);{var Nt=Qe=>{var Wt=is(),pt=p(Wt),Lt=p(pt),pa=p(Lt),tn=y(Lt,2),an=p(tn),ja=y(pt,2),rn=y(p(ja),2);oe(rn,5,()=>(s(r),h(()=>s(r).keyInsights)),se,(Ne,Ye)=>{var We=ts(),vt=y(p(We),2),Ee=p(vt);z(()=>A(Ee,s(Ye))),C(Ne,We)});var Ha=y(ja,2),nn=y(p(Ha),2);oe(nn,5,()=>(s(r),h(()=>s(r).architecturalPrinciples)),se,(Ne,Ye)=>{var We=as(),vt=y(p(We),2),Ee=p(vt);z(()=>A(Ee,s(Ye))),C(Ne,We)});var sn=y(Ha,2);{var on=Ne=>{var Ye=ns(),We=y(p(Ye),2);oe(We,5,()=>(s(r),h(()=>s(r).architectureLinks)),se,(vt,Ee)=>{var Va=rs(),Ka=y(p(Va),2),ln=p(Ka);z(()=>{jr(Ka,"href",(s(Ee),h(()=>s(Ee).url))),A(ln,(s(Ee),h(()=>s(Ee).title)))}),C(vt,Va)}),C(Ne,Ye)};Z(sn,Ne=>{s(r),h(()=>s(r).architectureLinks)&&Ne(on)})}z(()=>{A(pa,(s(r),h(()=>s(r).title))),A(an,(s(r),h(()=>s(r).explanation)))}),C(Qe,Wt)};Z(ee,Qe=>{s(f)&&Qe(Nt)})}z(()=>ue(ft,1,`text-xl transform transition-transform ${s(f)?"rotate-180":""}`)),Ce("click",ne,W),C(K,Q)};Z(Rt,K=>{s(r)&&K(da)})}var ua=y(Rt,2);{var fa=K=>{var Q=os(),ne=p(Q);Ce("click",ne,M),C(K,Q)},en=K=>{var Q=ls(),ne=p(Q);z(()=>A(ne,`ðŸŽ‰ Congratulations! You've completed all phases for ${$(i()),h(()=>i().name)??""}!`)),C(K,Q)};Z(ua,K=>{$(n()),h(()=>c.findIndex(Q=>Q.id===n())<c.length-1)?K(fa):K(en,!1)})}z(()=>{A(me,`+${s(g),h(()=>s(g).score)??""}`),A(_e,`${s(g),h(()=>s(g).completionRate)??""}% completion`)}),C(x,k)},Xr=x=>{var k=ka(),L=Vt(k);{var O=G=>{var me=ds(),de=y(p(me),2),_e=p(de);z(()=>A(_e,`Good choices! You selected ${s(o),h(()=>s(o).length)??""} components for this phase. Moving
            to the next challenge...`)),C(G,me)};Z(L,G=>{s(m)&&G(O)},!0)}C(x,k)};Z(Jr,x=>{s(m)&&s(g)?x(Zr):x(Xr,!1)})}z((x,k,L)=>{A(Te,x),A(Re,`${$(i()),h(()=>i().name)??""} Architecture Challenge`),A(lt,($(i()),h(()=>i().description))),A(ra,s(u)),A(na,`Phase ${k??""}: ${s(a),h(()=>s(a).name)??""}`),A(ia,(s(a),h(()=>s(a).description))),A(oa,` Select the components ${$(i()),h(()=>i().name)??""} needs for this phase. Avoid
        over-engineering - start simple and scale appropriately.`),A(Tt,L),A(Hr,`Your Architecture (${s(o),h(()=>s(o).length)??""} components)`)},[()=>($(i()),h(()=>i().name.charAt(0))),()=>($(n()),h(()=>c.findIndex(x=>x.id===n())+1)),()=>($(or),$(n()),$(i()),h(()=>or(n(),i().id)))]),Ce("click",F,w),C(e,E),St()}var ps=D('<div class="max-w-4xl mx-auto"><div class="text-center mb-12"><h1 class="text-5xl font-bold mb-4 text-gray-100">ArchPath</h1> <p class="text-xl text-gray-300 mb-2">Learn architectural evolution of tech companies</p> <p class="text-gray-400">Test your system design knowledge by categorizing components into scaling phases</p></div> <!></div>'),vs=D('<main class="min-h-screen bg-gray-900 text-gray-100"><!> <div class="container mx-auto px-4 py-8"><!></div></main>');function ms(e){let t=j(null),a=j("mvp"),r=j(!1);function i(f){S(t,f.detail.company),S(r,!0)}function n(){S(t,null),S(r,!1),S(a,"mvp")}var l=vs(),c=p(l);Di(c,{});var o=y(c,2),u=p(o);{var m=f=>{var v=ps(),d=y(p(v),2);Wi(d,{$$events:{companySelect:i}}),C(f,v)},g=f=>{fs(f,{get company(){return s(t)},get phase(){return s(a)},get currentPhase(){return s(a)},set currentPhase(v){S(a,v)},$$events:{backToMenu:n},$$legacy:!0})};Z(u,f=>{s(r)?f(g,!1):f(m)})}C(e,l)}mi(ms,{target:document.getElementById("app")});
